{"ast":null,"code":"/* \r\n    Login\r\n    0 - only unlogged\r\n    1 - need\r\n    2 - don't nedd\r\n\r\n*/\nimport { useEffect } from \"react\";\n\nconst Guard = async (e = 2) => {\n  return await new Promise(resolve => {\n    useEffect(function mount() {\n      if (e == 1 && !window.localStorage.getItem(\"token\")) {\n        window.location.href = \"/login\";\n        resolve(false);\n        return;\n      }\n\n      if (e == 0 && window.localStorage.getItem(\"token\")) {\n        window.location.href = \"/home\";\n        resolve(false);\n        return;\n      }\n\n      resolve(true);\n      return;\n    });\n  });\n};\n\nexport default Guard;","map":{"version":3,"sources":["C:/Users/fabio/Documents/vitrine/voting-app/voting_next/components/guardLogin.tsx"],"names":["useEffect","Guard","e","Promise","resolve","mount","window","localStorage","getItem","location","href"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,SAAT,QAA0B,OAA1B;;AAEA,MAAMC,KAAK,GAAG,OAAOC,CAAS,GAAG,CAAnB,KAA4C;AACtD,SAAO,MAAM,IAAIC,OAAJ,CAAaC,OAAD,IAAa;AAClCJ,IAAAA,SAAS,CAAC,SAASK,KAAT,GAAiB;AACvB,UAAIH,CAAC,IAAI,CAAL,IAAU,CAACI,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAf,EAAoD;AAChDF,QAAAA,MAAM,CAACG,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;AACAN,QAAAA,OAAO,CAAC,KAAD,CAAP;AACA;AACH;;AAED,UAAIF,CAAC,IAAI,CAAL,IAAUI,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAd,EAAmD;AAC/CF,QAAAA,MAAM,CAACG,QAAP,CAAgBC,IAAhB,GAAuB,OAAvB;AACAN,QAAAA,OAAO,CAAC,KAAD,CAAP;AACA;AACH;;AAEDA,MAAAA,OAAO,CAAC,IAAD,CAAP;AACA;AACH,KAfQ,CAAT;AAgBH,GAjBY,CAAb;AAkBH,CAnBD;;AAqBA,eAAeH,KAAf","sourcesContent":["/* \r\n    Login\r\n    0 - only unlogged\r\n    1 - need\r\n    2 - don't nedd\r\n\r\n*/\r\n\r\nimport { useEffect } from \"react\";\r\n\r\nconst Guard = async (e: number = 2) : Promise<boolean> => {\r\n    return await new Promise((resolve) => {\r\n        useEffect(function mount() {\r\n            if (e == 1 && !window.localStorage.getItem(\"token\")){\r\n                window.location.href = \"/login\"\r\n                resolve(false)\r\n                return\r\n            }\r\n        \r\n            if (e == 0 && window.localStorage.getItem(\"token\")){\r\n                window.location.href = \"/home\"\r\n                resolve(false)\r\n                return\r\n            }\r\n    \r\n            resolve(true)\r\n            return\r\n        })\r\n    })\r\n}\r\n\r\nexport default Guard;"]},"metadata":{},"sourceType":"module"}